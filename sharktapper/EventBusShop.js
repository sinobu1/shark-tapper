// =======================================================================
// ====================== КОД ИЗ SHOP.JS (МОДИФИЦИРОВАННЫЙ) ======================
// =======================================================================


// Используем отдельную шину событий для магазина, чтобы избежать конфликтов имен
// или интегрируем с основной шиной EventBus, если требуется тесное взаимодействие.
// Пока оставим отдельную для простоты.
const EventBusShop = (() => {
    const events = {};
    return {
        subscribe: (event, callback) => {
            if (!events[event]) events[event] = [];
            events[event].push(callback);
        },
        publish: (event, data) => {
            if (events[event]) {
                events[event].forEach(callback => callback(data));
            }
        }
    };
})();
